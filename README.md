# Описание выполненного решения

## Запуск

Создать server/.env на основе server/env.example
Указать пустую БД: сервер создаст таблицы и тестовых пользователей.
Решение протестировано на сервисе Supabase.

## Сервер

Возможность работы клиента с разными интсансами сервера обеспечивается использованием jwt: токен валидируется независимо, т.к. зашифрован подписю, а также содержит внутри себя все что нужно для обработки запроса. В нашем случае - логин - идентификатор пользователя.

Консистеность расчета очков обеспечивается атомарными инкрементами записи в БД, которая хранит счет конкретного пользователя и расчетом "на лету" общего счета. Это возможно из-за наличия строгого решения (формулы) количества очков исходя из количества кликов.  Общий счет отображается только для завершенных раундов, на каждый тап считать его не нужно, поэтому расчет запросом допустим. Луший игрок и итоговая сумма считается обходом запроса, что уместно исходя из текущих условий: если будет ожидаться значительно большее количество выживших можно переделать на два запроса к СУБД.

Регистрация тапа на сервере не проверяется на предмет попадания во временной интервал, т.к. в задаче нет указания о подходе к  такой проверке. Есть расхождение времени между клиентом и сервером, есть время на прохождение запроса от клиента до сервера - все это, по идее, можно учесть.

На проекте такого размера продемонстрировать понимание SOLID не представляется возможным, т.к. количество классов/модулей ничтожно мало и большая часть искусственных движений по изменению связности/зацеплению будет спорна, т.к. польза будет зависеть от направления дальнейшего усложнения задачи.

Тоже самое хочу сказать и по системе типов: вынесение типов в контракт, объединение, разделение или использование описания на месте также зависит от намерений дальнейшего их использования.

## Клиент

Клиент сделан без билиотеки управления состоянием, т.к. состояния каждой страницы являются изолированными и особого смысла делать здесь единый стейт менеджмент нет.

## Подсчет очков

Правило "Каждый 11-й тап приносит 10 очков" строго математически решаемо иходя из общего количества кликов как score = (count div 11)*9 + count. 

## Имплементация

Если строго следовать заданию, то admin не должен иметь возможность участвовать в раундах. Это у меня не реализовано: админ может принимать участие наравне со всеми. Если нужно - могу доделать.

Для прототипирования использовал Cursor.

## Времязатраты
- Анализ задачи, проектирование решения, начальное описание, создание проекта (1ч)
- Правки для запуска на Supabase (1ч)
- Минимальный, работающий с сервером клиент (1ч)
- Гусь, кликер (1ч)
- Дебаг клиента, освежение знаний по реакту (1ч)
- Подсчет очков, описание (1ч)
- Проверки, дебаг, типизация (1ч)
- Проверки, мелкие доработки (1ч)